---
import Layout from "../../layouts/Layout.astro";
import Nav from "../../components/Nav.astro";
import Footer from "../../components/Footer.astro";
import BlogCard from "../../components/BlogCard.astro";
import { getCollection } from 'astro:content';

const posts = await getCollection('blog');
const sorted = posts.sort((a,b)=> new Date(b.data.pubDate) - new Date(a.data.pubDate));
---
<Layout title="Blog">
  <Nav />
  <h1 class="font-display text-3xl neon">Devlog & Blog</h1>
  <p class="mt-2 text-white/70">Thoughts on game development, engines, rendering, and more.</p>
  <div class="grid md:grid-cols-2 gap-6 mt-8">
    {sorted.map(p => <BlogCard entry={p} />)}
  </div>
  <Footer />
</Layout>
